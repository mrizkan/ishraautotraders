!function (t) {
    "use strict";
    var a = function (a, e) {
        return this.el = a, this.$el = t(a), this.options = e, this.init(), this
    };
    a.prototype.init = function () {
        var a = this, e = -1, n = -1;
        a.$el.addClass("lz-menu"), a.$el.find("> li").each(function (i) {
            console.log("foo", t(this));
            var s = t(this);
            s.find("> h3").each(function () {
                t(this).prepend(a._arrowBtn()), t(this).addClass("collapsed")
            }), s.find("> ul > li > h3").prepend(a._arrowBtn()), s.attr("data-lz-index", i), s.find("> ul > li").each(function (a) {
                t(this).find("> h3").parent().attr("data-lz-index", i + "-" + a), t(this).attr("style", "display: none"), t(this).find("> ul > li").each(function () {
                    t(this).attr("style", "display: none")
                })
            }), s.find("> ul > li").each(function (s) {
                var l = t(this);
                l.hasClass(a.options.activeClass) && (e = i), l.find("> ul > li").each(function () {
                    t(this).hasClass(a.options.activeClass) && (e = i, n = s)
                }), a._addClickEvents(l, i + "-" + s)
            }), a._addClickEvents(s, i)
        }), "expand" === a.options.initialState ? a.expandAll() : "collapse" === a.options.initialState || (e > -1 && n > -1 ? (a._toggle(e, "expand"), a._toggle(e + "-" + n, "expand")) : e > -1 && a._toggle(e, "expand"))
    }, a.prototype._addClickEvents = function (t, a) {
        var e = this;
        t.find("> h3 > a.arrow-btn").on("click", function (t) {
            t.stopPropagation(), t.preventDefault(), e._toggle(a, "toggle")
        }), t.find("> h3 > span").on("click", function (t) {
            t.stopPropagation(), t.preventDefault(), e._toggle(a, "toggle")
        })
    }, a.prototype._arrowBtn = function () {
        return'<a href="#" class="arrow-btn"></a>'
    }, a.prototype._toggle = function (a, e) {
        var n = this;
        n.$el.find("li[data-lz-index='" + a + "'] > h3 > a.arrow-btn").each(function () {
            "toggle" === e ? t(this).hasClass("expanded") ? (t(this).parent().removeClass("expanded"), t(this).parent().addClass("collapsed"), t(this).removeClass("expanded"), t(this).addClass("collapsed"), t(this).parent().parent().find("> ul > li").each(function () {
                var a = t(this);
                a.slideUp(100, function () {
                    a.attr("style", "display: none")
                })
            })) : (t(this).parent().removeClass("collapsed"), t(this).parent().addClass("expanded"), t(this).removeClass("collapsed"), t(this).addClass("expanded"), t(this).parent().parent().find("> ul > li").each(function () {
                var a = t(this);
                a.slideDown(100, function () {
                    a.attr("style", "display: block")
                })
            })) : "expand" === e ? t(this).hasClass("expanded") || (t(this).parent().addClass("expanded"), t(this).parent().removeClass("collapsed"), t(this).addClass("expanded"), t(this).removeClass("collapsed"), t(this).parent().parent().find("> ul > li").attr("style", "display: block")) : t(this).hasClass("expanded") && (t(this).parent().removeClass("expanded"), t(this).parent().addClass("collapsed"), t(this).removeClass("expanded"), t(this).addClass("collapsed"), t(this).parent().parent().find("> ul > li").attr("style", "display: none"))
        })
    }, a.prototype.expandAll = function () {
        var a = this;
        a.$el.find("li[data-lz-index]").each(function () {
            a._toggle(t(this).attr("data-lz-index"), "expand")
        })
    }, a.prototype.collapseAll = function () {
        var a = this;
        a.$el.find("li[data-lz-index]").each(function () {
            a._toggle(t(this).attr("data-lz-index"), "collapse")
        })
    }, a.prototype.destroy = function () {
        t.removeData(this.$el), this.$el.find("> ul > li > h3 > a").unbind("click"), this.$el.find("> ul > li > h3 > span").unbind("click")
    }, t.fn.lazeemenu = function (e) {
        if ("string" == typeof e && "_" !== e.charAt(0) && "init" !== e)var n = !0, i = Array.prototype.slice.call(arguments, 1); else e = t.extend({}, t.fn.lazeemenu.defaults, e || {});
        return this.each(function (s) {
            var l = t(this), d = l.data("lazeemenu");
            d || (d = new a(this, n ? t.fn.lazeemenu.defaults : e, s), l.data("lazeemenu", d)), n && d[e].apply(d, i)
        })
    }, t.fn.lazeemenu.defaults = {activeClass: "active", initialState: "default"}
}(jQuery);